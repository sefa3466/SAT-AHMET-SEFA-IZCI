<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Pika Blackjack Oyunu - 21</title>
<style>
:root{
  --table-bg:#001f3f;
  --card:#fff;
  --accent:#ffeb3b; /* SarÄ± Vurgu */
  --gold-border: #ffd700; /* AltÄ±n Vurgu */
}
*{box-sizing:border-box;font-family:Inter,Arial,system-ui}
html,body{
  height:100%;margin:0;
  background:radial-gradient(circle at center,#001122,#000000);
  color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;
  padding: 20px 0;
  width: 100%; /* 100% YakÄ±nlÄ±k iÃ§in */
}

/* Ãœst MenÃ¼ */
.top-menu { display: flex; gap: 20px; margin-top: 15px; margin-bottom: 20px; font-size: 16px; font-weight: 600; border-bottom: 2px solid #81d4fa; padding-bottom: 10px; }
.top-menu a { color: #81d4fa; transition: color 0.2s; text-decoration: none;}
.top-menu a:hover { color: #ffeb3b; }

.wrap{
  width:100%; max-width:1100px; min-height:85vh; position:relative; /* Daha geniÅŸ alan */
  display:flex;flex-direction:column;align-items:center;gap:10px
}
.table{
  width:98%; min-height:680px; /* Daha geniÅŸ oyun alanÄ± */
  background:radial-gradient(circle at center,#0d47a1,#001122);
  border-radius:30px;padding:25px;border:4px solid var(--gold-border); /* AltÄ±n Ã‡izgi */
  position:relative;box-shadow:0 20px 40px rgba(0,0,0,.9);
  overflow:hidden;
}
.deck{
  position:absolute;left:40px;top:40px;
  width:90px;height:120px;border-radius:8px;
  background:repeating-linear-gradient(45deg,#0e2f48,#0e2f48 8px,#041522 8px,#041522 16px);
  border: 2px solid var(--gold-border); /* AltÄ±n Ã‡izgi */
  display:flex;align-items:center;justify-content:center;
  font-size:14px;font-weight:700;box-shadow:0 6px 18px rgba(0,0,0,.5);
  color:#fff;
}
.hand{
  min-height:160px; display:flex; align-items:center; justify-content:center; gap:0; position:relative; flex-wrap:nowrap; overflow:hidden;
}
.dealer{position:absolute;top:80px;left:50%;transform:translateX(-50%);}
.player{position:absolute;bottom:80px;left:50%;transform:translateX(-50%);}
.card{
  width:100px;height:140px;border-radius:8px;background:var(--card);color:#111;
  box-shadow:0 6px 14px rgba(0,0,0,.45); position:absolute;transition:all 1s ease;
  transform-style:preserve-3d; backface-visibility:hidden;
}
.card.face-down{
  background:repeating-linear-gradient(45deg,#187a4f,#187a4f 8px,#0a3b26 8px,#0a3b26 16px); color:#fff;
  border: 2px solid var(--gold-border); /* AltÄ±n Ã‡izgi */
}
.controls{display:flex;gap:16px;align-items:center;margin-top:20px;justify-content:center}
button{background:var(--accent);border:none;padding:12px 20px;border-radius:12px;font-weight:800;cursor:pointer;box-shadow:0 6px 16px rgba(0,0,0,.5);color:#000; font-size: 16px;}
.center-msg{
  position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
  background:rgba(0,0,0,.9);padding:30px 40px;border-radius:16px;
  font-size:30px;display:none;text-align:center; color: var(--accent);
  border: 3px solid var(--gold-border); /* AltÄ±n Ã‡izgi */
}
.bottom-msg{margin-top:18px;font-size:20px;font-weight:700;cursor:pointer;color:var(--accent);text-shadow:0 0 6px #000;display:none}
#start-screen{
  position:fixed;inset:0;background:rgba(0,0,0,.95);
  display:flex;align-items:center;justify-content:center;flex-direction:column; z-index:1000;text-align:center;
}
#start-screen h1{font-size:36px;margin-bottom:20px; color: var(--accent);}
.score-under{margin-top:8px;font-size:22px;font-weight:700;color:#81d4fa;text-shadow:0 0 8px #000;text-align:center;}

/* Alt Bilgi ve Ä°letiÅŸim */
footer {
  padding: 10px;
  color: #5789c6;
  font-size: 13px;
  width: 100%;
  text-align: center;
  margin-top: auto;
}
.contact-section {
  margin-top: 5px;
  font-size: 14px;
}
.contact-section a { color: #81d4fa; text-decoration: none; }

/* REKLAM STÄ°LLERÄ° - UZUN DÄ°KEY BANT */
.ad-container {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  width: 180px;
  height: 75vh;
  z-index: 1000;
  box-shadow: 0 5px 20px rgba(0,0,0,0.8);
}
.ad-left { left: 10px; }
.ad-right { right: 10px; }
.ad-box {
  width: 100%;
  height: 100%;
  background-image: url('reklam4.png');
  background-size: cover;
  background-position: center;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.2s;
  border: 3px solid var(--gold-border);
}
.ad-box:hover { transform: scale(1.05); }
#confetti-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100% !important;
  height: 100% !important;
  pointer-events: none;
  z-index: 500;
}
.info-box {
  background: rgba(0,0,0,0.65);
  padding: 18px;
  border-radius: 12px;
  border: 2px solid var(--gold-border);
  width: 90%;
  margin-top: 20px;
  text-align: center;
  color: #ffeb3b;
  font-size: 15px;
  line-height: 1.5;
}
.info-box h3 {
  margin: 0;
  margin-bottom: 6px;
  color: #81d4fa;
}

/* NAVBAR */
.navbar{
  width:100%;
  height:65px;
  background:rgba(0,0,0,0.55);
  backdrop-filter:blur(6px);
  border-bottom:2px solid var(--gold-border);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 20px;
  position:fixed;
  top:0;
  left:0;
  z-index:2000;
}
.navbar .menu-btn{
  font-size:28px;
  cursor:pointer;
  color:#ffeb3b;
}
.navbar .logo{
  color:#ffeb3b;
  font-size:22px;
  text-decoration:none;
  font-weight:800;
}

/* HAMBURGER SIDE MENU */
.side-menu{
  position:fixed;
  top:0;
  left:-260px;
  width:260px;
  height:100%;
  background:#000;
  border-right:3px solid var(--gold-border);
  padding:20px;
  transition:0.35s ease;
  z-index:3000;
}
.side-menu.open{
  left:0;
}
.side-menu .close-btn{
  font-size:22px;
  color:#ffeb3b;
  cursor:pointer;
}
.side-menu ul{
  list-style:none;
  margin-top:20px;
  padding:0;
}
.side-menu ul li{
  margin:14px 0;
}
.side-menu ul li a{
  color:#ffeb3b;
  font-size:18px;
  font-weight:700;
  text-decoration:none;
}
.side-menu ul li a:hover{
  color:#fff;
}


@media(max-width:1250px){
  .ad-container { display: none; }
}
</style>
</head>
<body>

<div class="ad-container ad-left">
    <a href="https://www.pulibet137.com" target="_blank" class="ad-link">
        <div class="ad-box">
            <img src="reklam4.png" alt="reklam" style="width:100%; height:100%; object-fit:cover; border-radius:8px;">
        </div>    
    </a>
</div>

<div class="ad-container ad-right">
    <a href="https://www.pulibet137.com" target="_blank" class="ad-link">
        <div class="ad-box">
            <img src="reklam3.jpeg" alt="reklam" style="width:100%; height:100%; object-fit:cover; border-radius:8px;">
        </div>
    </a>
</div>


<div id="start-screen">
  <h1>â™ ï¸ Pika Blackjack Oyunu</h1>
  <p style="color: #fff;">Oyunun amacÄ± 21'i geÃ§meden kurpiyerden daha yÃ¼ksek puan toplamaktÄ±r.</p>
  <button id="btn-start">ğŸ® Oyuna BaÅŸla</button>
  <a id="home-link" style="text-decoration: none;" href="index.html">ğŸ  Ana Sayfaya DÃ¶n</a>
</div>

<canvas id="confetti-canvas"></canvas>
<div class="wrap">
<!-- NAVBAR -->
<div class="navbar">
  <span class="menu-btn" onclick="openMenu()">â˜°</span>
  <a href="index.html" class="logo">Pika Oyun</a>
</div>

<!-- SIDE MENU -->
<div id="sideMenu" class="side-menu">
  <h2 onclick="closeMenu()" class="close-btn">âŒ Kapat</h2>
  <ul>
    <li><a href="index.html">ğŸ  Ana Sayfa</a></li>
    <li><a href="OyunSlideri.html">ğŸ® Oyunlar</a></li>
    <li><a href="iletisim.html">ğŸ“© Ä°letiÅŸim</a></li>
  </ul>
</div>


  <div class="table">
    <div class="deck" id="deck">DESTEK</div>

    <div class="dealer">
      <div class="score-under">Kurpiyer PuanÄ±: <span id="dealer-score">0</span></div>
      <div class="hand" id="dealer-hand"></div>
    </div>

    <div class="player">
      <div class="hand" id="player-hand"></div>
      <div class="score-under">Sizin PuanÄ±nÄ±z: <span id="player-score">0</span></div>
      <div class="controls">
        <button id="btn-hit">Kart Ã‡ek</button>
        <button id="btn-stand">Kal</button><br>
     
    </div>
 <div class="bottom-msg" id="bottom-msg">â–¶ï¸ Devam Et</div>
    </div>
    <div class="center-msg" id="center-msg"></div>
  </div>
<div class="info-box">
  
  <p> </p>

  <h3>ğŸ® NasÄ±l OynanÄ±r?</h3>
  <p>21'i geÃ§meden kurpiyerden daha yÃ¼ksek puan yapmaya Ã§alÄ±ÅŸÄ±rsÄ±nÄ±z. As 1 veya 11 sayÄ±lÄ±r.</p>

  <h3>ğŸ Ã–dÃ¼l Kazanmak Ä°Ã§in</h3>
  <p>ArdÄ± ardÄ±na 3 kez Ã¼st Ã¼ste kazanÄ±rsanÄ±z Ã¶zel bir Ã¶dÃ¼l animasyonu aÃ§Ä±lÄ±r!</p>
</div>
<footer>
    Â© 2025 Pika Mini Arcade â€” EÄŸlencenin Tek Adresi!
    <div class="contact-section">
      <a href="mailto:pikaoyun@example.com?subject=Fikir%20ve%20Oneri%20Blackjack%20HakkÄ±nda">Fikir ve Ã–neri E-posta: pikaoyun@example.com</a>
    </div>
  </footer>
  


<script>
const suits=['â™ ','â™¥','â™¦','â™£'],ranks=['A','2','3','4','5','6','7','8','9','10','J','Q','K'];
function buildDeck(){const d=[];for(let s of suits)for(let r of ranks)d.push({suit:s,rank:r});return d;}
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
function cardValue(c){if(c.rank==='A')return 11;if(['J','Q','K'].includes(c.rank))return 10;return +c.rank;}
function handValue(h){let t=0,a=0;for(const c of h){t+=cardValue(c);if(c.rank==='A')a++;}while(t>21&&a>0){t-=10;a--;}return t;}

const dealerEl=document.getElementById('dealer-hand'), playerEl=document.getElementById('player-hand'), dealerScore=document.getElementById('dealer-score'), playerScore=document.getElementById('player-score'), msg=document.getElementById('center-msg'), btnHit=document.getElementById('btn-hit'), btnStand=document.getElementById('btn-stand'), bottomMsg=document.getElementById('bottom-msg'), deckEl=document.getElementById('deck');

let deck=[],player=[],dealer=[],hidden=null,roundEnd=false;

function makeCardEl(c,hidden=false){
  const el=document.createElement('div');
  el.className='card'+(hidden?' face-down':'');
  if(hidden){
    el.dataset.rank=c.rank; el.dataset.suit=c.suit; el.textContent='KAPALI';
  } else {
    const t=document.createElement('div');t.className='corner';t.textContent=c.rank+c.suit;
    const m=document.createElement('div');m.style.textAlign='center';m.style.fontSize='28px';m.textContent=c.suit;
    const b=document.createElement('div');b.className='corner';b.textContent=c.rank+c.suit;
    el.append(t,m,b);
  }
  return el;
}
/* HAMBURGER MENU */
function openMenu(){
  document.getElementById("sideMenu").classList.add("open");
}
function closeMenu(){
  document.getElementById("sideMenu").classList.remove("open");
}

// Kart daÄŸÄ±tÄ±m animasyonu (Kayma sorununu Ã§Ã¶zmek iÃ§in pozisyon dÃ¼zeltildi)
async function dealFromDeck(targetEl, card, index, hidden=false){
  return new Promise(resolve=>{
    const el=makeCardEl(card, hidden);
    // KartÄ± baÅŸlangÄ±Ã§ta deck'in pozisyonuna yerleÅŸtir
    const deckRect=deckEl.getBoundingClientRect();
    el.style.left=deckRect.left+'px';
    el.style.top=deckRect.top+'px';
    el.style.position='fixed'; // Animasyon sÄ±rasÄ±nda fixed kullan
    document.body.appendChild(el);

    const targetRect=targetEl.getBoundingClientRect();
    
    // KartlarÄ±n ekrana sÄ±ÄŸmasÄ± iÃ§in spacing hesapla
    const maxCards=8;
    const spacing = Math.min(120, targetRect.width / Math.max(targetEl.children.length + 1, maxCards));

    const xPos = targetRect.left + (targetRect.width/2) - ((index + 1) * spacing / 2) + (index * spacing);
    const yPos = targetRect.top + targetRect.height/2 - 70;

    setTimeout(()=>{
      el.style.left=xPos+'px';
      el.style.top=yPos+'px';
    },20);

    setTimeout(()=>{
      // Animasyon bitince absolute yap ve container iÃ§ine al
      el.style.position='absolute';
      el.style.left=(index * spacing)+'px';
      el.style.top='0px';
      targetEl.appendChild(el);
      updateScores();
      resolve();
    },1000);
  });
}

function updateScores(){
  playerScore.textContent=handValue(player);
  dealerScore.textContent=hidden?'?':handValue(dealer);
}
async function newRound(){
  dealerScore.textContent='0'; playerScore.textContent='0';
  msg.style.display='none';bottomMsg.style.display='none';
  deck=shuffle(buildDeck());player=[];dealer=[];hidden=null;roundEnd=false;
  dealerEl.innerHTML='';playerEl.innerHTML='';
  player.push(deck.pop());await dealFromDeck(playerEl,player[0],0);
  dealer.push(deck.pop());await dealFromDeck(dealerEl,dealer[0],0);
  player.push(deck.pop());await dealFromDeck(playerEl,player[1],1);
  dealer.push(deck.pop());hidden=dealer[1];await dealFromDeck(dealerEl,hidden,1,true);
  updateScores();
}

function revealDealer(){
  const faceDown=document.querySelector('#dealer-hand .face-down');
  if(faceDown){
    const r=faceDown.dataset.rank,s=faceDown.dataset.suit;
    faceDown.innerHTML='';
    const t=document.createElement('div');t.className='corner';t.textContent=r+s;
    const m=document.createElement('div');m.style.textAlign='center';m.style.fontSize='28px';m.textContent=s;
    const b=document.createElement('div');b.className='corner';b.textContent=r+s;
    faceDown.append(t,m,b);
    faceDown.classList.remove('face-down');
  }
  hidden=null;updateScores();
}

function endRound(txt){
  roundEnd=true; msg.textContent=txt;msg.style.display='block';
  revealDealer(); bottomMsg.style.display='block';
  if(txt.includes("KazandÄ±nÄ±z")) launchConfetti();
}

btnHit.onclick=async()=>{
  if(roundEnd)return;
  const card=deck.pop();player.push(card);
  await dealFromDeck(playerEl,card,player.length-1);
  const v=handValue(player);
  if(v>21) endRound('YandÄ±nÄ±z! )');
  else if(v===21) endRound('KazandÄ±nÄ±z! 21 ğŸ‰');
};

btnStand.onclick=async()=>{
  if(roundEnd)return;
  revealDealer();
  await new Promise(r=>setTimeout(r,600));
  while(handValue(dealer)<17){
    const c=deck.pop();dealer.push(c);
    await dealFromDeck(dealerEl,c,dealer.length-1);
  }
  const p=handValue(player),d=handValue(dealer);
  if(d>21) endRound('Kurpiyer battÄ±! KazandÄ±nÄ±z!');
  else if(p>21) endRound('YandÄ±nÄ±z!');
  else if(p===d) endRound('Berabere!');
  else if(Math.abs(21-p)<Math.abs(21-d)) endRound('KazandÄ±nÄ±z! ğŸ‰');
  else endRound('Kaybettiniz!');
};

bottomMsg.onclick=()=>{newRound();};

function launchConfetti(){
  const c=document.getElementById('confetti-canvas'),ctx=c.getContext('2d');
  c.width=window.innerWidth;c.height=window.innerHeight;
  const conf=[];
  for(let i=0;i<120;i++)conf.push({x:Math.random()*c.width,y:Math.random()*c.height-Math.random()*c.height,r:Math.random()*4+2,s:Math.random()*3+2});
  let frame=0;
  function draw(){
    ctx.clearRect(0,0,c.width,c.height);
    conf.forEach(p=>{
      ctx.beginPath(); ctx.fillStyle='hsl('+Math.random()*360+',100%,60%)';
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
      p.y+=p.s;if(p.y>c.height){p.y=0;}
    });
    frame++;if(frame<180)requestAnimationFrame(draw);
  }
  draw();
}

document.getElementById('btn-start').onclick=()=>{
  document.getElementById('start-screen').style.display='none';
  newRound();
};
</script>
</body>
</html>