<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üöÄ Pika Flappy Roket</title>
<style>
/* ========== K√ñK & TEMALAR ========== */
:root{
  --accent: #edff27;
  --bg-dark: radial-gradient(circle at 30% 30%, #000000, #001f3f);
  --page-bg-dark: #071022;
  --text-dark: #ffffff;
  --card-bg-dark: rgba(255,255,255,0.06);

  --bg-light: #ffffff;
  --page-bg-light: #f6f7fb;
  --text-light: #0b0b0b;
  --card-bg-light: #ffffff;

  --transition-fast: 250ms;
  --transition-slow: 420ms;
}

/* varsayƒ±lan karanlƒ±k tema */
html,body{
  height:100%;
  margin:0;
}
body{
  font-family: Inter, system-ui, Arial, sans-serif;
  background: var(--bg-dark);
  color: var(--text-dark);
  transition: background var(--transition-slow), color var(--transition-slow);
  min-height:100vh;
  overflow-x:hidden;
}

/* a√ßƒ±k tema */
body.light{
  background: var(--bg-light); 
  color: var(--text-light); 
}
.container-border{ 
  border:3px solid var(--accent); 
}
*{ 
  box-sizing:border-box; 
}

/* genel kenarlƒ±k vurgusu */
.container-border{
  border: 3px solid var(--accent);
  transition: border var(--transition-fast);
}

/* ========== √úST √áUBUK (yapƒ±≈ükan) ========== */
.topbar{
  position: sticky;
  top:0;
  z-index:1600;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:10px 20px;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(6px);
  border-bottom:3px solid var(--accent);
  transition: background var(--transition-fast), color var(--transition-fast);
}
body.light .topbar{
  background: rgba(255,255,255,0.8);
}

/* sol grup (hamburger + ba≈ülƒ±k) */
.top-left{
  display:flex;
  gap:12px;
  align-items:center;
}
.hamburger{
  width:42px;height:38px; padding:6px;
  display:flex; flex-direction:column; justify-content:space-between;
  cursor:pointer; border-radius:6px;
  background:rgba(0,0,0,0.2);
  transition:300ms;
}
.hamburger .bar{ 
  height:4px; 
  background:var(--accent); 
  border-radius:3px; 
  transition:300ms; 
}
.menu-open .hamburger{ 
  background: rgba(0,0,0,0.25); 
}
.menu-open .hamburger .bar:nth-child(1){ 
  transform: translateY(8px) rotate(45deg); 
}
.menu-open .hamburger .bar:nth-child(2){ 
  opacity:0; 
}
.menu-open .hamburger .bar:nth-child(3){ 
  transform: translateY(-8px) rotate(-45deg); 
}
.top-title{ 
  font-weight:700; 
  color:var(--accent); 
  font-size:20px; 
}
.top-right{ 
  display:flex; 
  gap:10px; 
  align-items:center; 
}
.search-input{
  padding:8px 12px; 
  border-radius:8px;
  border:2px solid var(--accent);
  background:rgba(242, 255, 0, 0.25); 
  color:inherit;
}
.theme-toggle{
  cursor:pointer; 
  padding:6px 10px; 
  border-radius:8px;
  border:2px solid var(--accent); 
  background:transparent; 
  color:var(--accent);
}

/* ========== YAN MEN√ú (sol) ========== */
.side-menu{
  position:fixed;
  top:0;
  left:-320px;
  width:320px;
  height:100%;
  background: rgba(0,0,0,0.92);
  color:var(--accent);
  padding:30px 20px;
  z-index:1700;
  transition: left var(--transition-fast) cubic-bezier(.2,.9,.2,1), background var(--transition-fast);
  border-right:3px solid var(--accent);
  overflow:auto;
}
body.light .side-menu{ 
  background:#fff; 
  color:var(--text-light); 
}

.side-menu h2{ 
  font-size:20px; 
  margin:0 0 14px 0; 
  color:var(--accent); 
  border-bottom:2px solid var(--accent); 
  padding-bottom:8px;
}
.side-menu ul{ 
  list-style:none; 
  padding:0; 
  margin:20px 0 0 0;
}
.side-menu li{
  padding:12px 6px; 
  margin-bottom:6px;
  border-bottom:1px solid rgba(255,235,59,0.12);
  font-size:17px; 
  color:var(--accent);
  cursor:pointer;
}
body.light .side-menu li{ 
  color:var(--text-light); 
  border-bottom:1px solid rgba(255,235,59,0.12); 
}
.side-menu li:hover{ 
  background: rgba(255,235,59,0.06); 
}

/* a√ßƒ±k durum */
.menu-open .side-menu{ 
  left:0; 
}

/* ========== SOL REKLAM (men√º a√ßƒ±lƒ±nca hareket eder) ========== */
.left-ad{
  position:fixed; 
  top:50%; 
  left:8px; 
  transform:translateY(-50%);
  width:240px; 
  height:420px; 
  z-index:1200;
  border:3px solid var(--accent); 
  border-radius:10px; 
  overflow:hidden;
  transition: left var(--transition-fast);
  background:#000;
}
.menu-open .left-ad{ 
  left:336px; 
}
.left-ad img{ 
  width:100%; 
  height:100%; 
  object-fit:cover; 
  display:block; 
}

/* ========== SAƒû REKLAM (b√ºy√ºk & sabit) ========== */
.right-ad{
  position:fixed; 
  right:0; 
  top:45%; 
  transform:translateY(-50%);
  width:240px; 
  height:420px; 
  z-index:1200;
  border:3px solid var(--accent); 
  border-radius:12px; 
  overflow:hidden; 
  background:#000;
}
.right-ad img{ 
  width:100%; 
  height:100%; 
  object-fit:cover; 
  display:block; 
}

/* ========== ƒ∞√áERƒ∞K KABƒ± ========== */
.content{
  max-width:1200px;
  margin:28px auto 80px;
  padding:0 20px;
}

/* OYUN KANVAS */
.game-canvas{
  width:100%; 
  max-width:800px; 
  height:70vh; 
  max-height:600px;
  margin:20px auto; 
  display:block;
  background: linear-gradient(180deg,#041830,#08253f);
  border:4px solid var(--accent); 
  border-radius:18px; 
  box-shadow:0 0 35px rgba(0,0,0,0.7);
}

/* KONTROL BUTONLARI */
.controls{
  display:flex; 
  gap:12px; 
  justify-content:center; 
  flex-wrap:wrap;
  margin:20px 0;
}
.game-btn{
  padding:14px 24px; 
  border:none; 
  border-radius:12px; 
  font-size:18px;
  cursor:pointer; 
  background:var(--accent); 
  color:#000; 
  font-weight:700;
  border:2px solid var(--accent);
  transition: all var(--transition-fast);
  min-width:120px;
}
.game-btn:hover{
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(237,255,39,0.4);
}

/* OYUN TALƒ∞MATLARI */
.game-info{
  text-align:center; 
  max-width:600px; 
  margin:0 auto 40px;
  color:rgba(255,255,255,0.9);
  font-size:18px; 
  font-weight:500;
  line-height:1.6;
}
body.light .game-info{ color:rgba(0,0,0,0.8); }

/* RESPONSIVE */
@media(max-width:1100px){
  .right-ad{ display:none; }
  .left-ad{ width:180px; height:320px; }
  .side-menu{ width:280px; left:-280px; } 
  .menu-open .left-ad{ left:296px; }
}
@media(max-width:700px){
  .left-ad{ display:none; } 
  .right-ad{ display:none; }
  .controls{ flex-direction:column; align-items:center; }
  .game-btn{ width:200px; }
}
</style>
</head>
<body class="container-border">

  <!-- √úST √áUBUK -->
  <div class="topbar">
    <div class="top-left">
      <div class="hamburger" title="Men√º A√ß/Kapat" onclick="toggleMenu()" aria-label="Men√º butonu">
        <div class="bar"></div><div class="bar"></div><div class="bar"></div>
      </div>
      <div class="top-title">Pika Oyun</div>
    </div>
    
    <div class="top-right">
      <input id="searchInput" class="search-input" placeholder="Oyun ara..." />
      <button class="theme-toggle" onclick="toggleTheme()" id="themeBtn">üåô</button>
    </div>
  </div>

  <!-- YAN MEN√ú -->
  <nav class="side-menu" id="sideMenu" aria-hidden="true">
    <h2 onclick="closeMenu()"> ‚ùå Men√º </h2>
    <ul>
      <li onclick="closeMenu(); window.location.href='index.html'">üè† Ana Sayfa</li>
      <li onclick="closeMenu(); window.location.href='OyunSlideri.html'">‚ÑπÔ∏è Hakkƒ±nda</li>
      <li onclick="goTo('#contact')"><a href="iletisim.html">ƒ∞leti≈üim</a></li>
    </ul>
  </nav>

  <!-- SOL REKLAM -->
  <aside class="left-ad" id="leftAd">
    <a href="https://www.pulibet137.com" target="_blank">
      <img src="reklam4.png" alt="Reklam Sol">
    </a>
  </aside>

  <!-- SAƒû REKLAM -->
  <aside class="right-ad" id="rightAd">
    <a href="https://www.pulibet137.com" target="_blank">
      <img src="reklam4.png" alt="Reklam Saƒü">
    </a>
  </aside>

  <!-- OYUN ƒ∞√áERƒ∞ƒûƒ∞ -->
  <main class="content">
    <h1 style="text-align:center; color:var(--accent); font-size:2.8rem; margin-bottom:10px; font-weight:800;">
      üöÄ Pika Flappy Roket
    </h1>
    
    <div class="game-info">
      Space / Tƒ±kla ile roketi zƒ±plat. Ye≈üil bo≈üluklardan ge√ß! En y√ºksek skoru yap!
    </div>

    <!-- OYUN KANVAS -->
    <canvas id="game" class="game-canvas"></canvas>

    <!-- KONTROL BUTONLARI -->
    <div class="controls">
      <button id="startBtn" class="game-btn">üöÄ BA≈ûLA</button>
      <button id="pauseBtn" class="game-btn">‚è∏Ô∏è DURDUR</button>
      <button id="resumeBtn" class="game-btn">‚ñ∂Ô∏è DEVAM</button>
    </div>
  </main>

  <!-- FOOTER -->
  <section id="contact" style="margin-top:60px; padding:40px 20px; text-align:center;">
    <div style="padding:24px; border:2px dashed var(--accent); border-radius:16px; max-width:500px; margin:0 auto;">
      <h3 style="margin:12px 0; color:var(--accent); font-size:22px;">Fikir ve √ñneri</h3>
      <p style="margin:12px 0; font-size:18px;">pikaoyun@example.com</p>
      <p style="margin:8px 0; font-size:16px; opacity:0.8;">¬© 2025 Pika Mini Oyunlar</p>
    </div>
  </section>

<script>
/* ===== Pƒ∞KA TEMPLATE FONKSƒ∞YONLARI ===== */
const body = document.body;
const sideMenu = document.getElementById('sideMenu');
const leftAd = document.getElementById('leftAd');
const overlay = document.createElement('div');
overlay.style.cssText = 'position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.45);z-index:1500;opacity:0;transition:opacity 300ms ease;pointer-events:none;';
document.body.appendChild(overlay);

function toggleMenu(){ body.classList.contains('menu-open') ? closeMenu() : openMenu(); }
function openMenu(){
  body.classList.add('menu-open');
  sideMenu.setAttribute('aria-hidden','false');
  overlay.style.pointerEvents='auto';
  setTimeout(()=>{ overlay.style.opacity=1; },10);
}
function closeMenu(){
  body.classList.remove('menu-open');
  sideMenu.setAttribute('aria-hidden','true');
  overlay.style.opacity=0;
  setTimeout(()=>{ overlay.style.pointerEvents='none'; },300);
}
overlay.addEventListener('click', closeMenu);

const themeBtn = document.getElementById('themeBtn');
let isLight = false;
function toggleTheme(){
  isLight = !isLight;
  body.classList.toggle('light', isLight);
  themeBtn.textContent = isLight ? 'üåû' : 'üåô';
}

function goTo(selector){
  closeMenu();
  const el = document.querySelector(selector);
  if(el) el.scrollIntoView({behavior:'smooth', block:'start'});
}

/* ===== FLAPPY ROKET OYUNU ===== */
(() => {
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');

  function fitCanvas() {
    const ratio = window.devicePixelRatio || 1;
    const styleW = Math.min(window.innerWidth * 0.9, 800);
    const styleH = Math.min(window.innerHeight * 0.65, 600);
    canvas.style.width = styleW + 'px';
    canvas.style.height = styleH + 'px';
    canvas.width = Math.floor(styleW * ratio);
    canvas.height = Math.floor(styleH * ratio);
    ctx.setTransform(ratio,0,0,ratio,0,0);
  }
  window.addEventListener('resize', fitCanvas);
  fitCanvas();

  const rocketImg = new Image();
  rocketImg.src = 'roket.png';
  let rocketImgLoaded = false;
  rocketImg.onload = () => rocketImgLoaded = true;

  let rocket = { x: 120, y: 300, vy: 0, size: 25 };
  let pipes = [];
  let score = 0, best = localStorage.getItem('flappyBest') || 0;
  let gravity = 0.18, jump = -4, pipeSpeed = 2.0, frame = 0;
  let playing = false, paused = false, countdown = 0;
  let lastTime = 0, lastSpawnFrame = 0;

  function resetSizes() {
    const cw = canvas.width / (window.devicePixelRatio||1);
    rocket.x = Math.floor(cw * 0.14);
    rocket.size = Math.max(7, Math.floor(cw * 0.02));
  }

  let stars = [];
  function createStars() {
    const cw = canvas.width / (window.devicePixelRatio||1);
    const ch = canvas.height / (window.devicePixelRatio||1);
    stars = Array.from({length: Math.max(12, Math.floor(cw/20))}, () => ({
      x: Math.random()*cw, y: Math.random()*ch, s: Math.random()*2+0.5
    }));
  }

  function spawnPipe() {
    const cw = canvas.width / (window.devicePixelRatio||1);
    const ch = canvas.height / (window.devicePixelRatio||1);
    const top = Math.random()*(ch*0.35) + (ch*0.1);
    const gap = Math.max(120, Math.floor(ch * 0.31));
    pipes.push({ x: cw + 40, top, gap, w: Math.max(32, Math.floor(cw*0.11)) });
  }

  function resetGameState(){
    const cw = canvas.width / (window.devicePixelRatio||1);
    const ch = canvas.height / (window.devicePixelRatio||1);
    score = 0;
    pipes = [];
    rocket = { x: Math.floor(cw*0.28), y: Math.floor(ch/2), vy: 0, size: Math.max(12, Math.floor(cw*0.06)) };
    frame = 0; playing = false; paused = false; countdown = 3;
    createStars(); resetSizes();
  }

  function drawStars(){
    const cw = canvas.width / (window.devicePixelRatio||1);
    const ch = canvas.height / (window.devicePixelRatio||1);
    stars.forEach(s => {
      ctx.fillStyle = '#9cf';
      ctx.fillRect(s.x, s.y, s.s, s.s);
      s.y += 0.35;
      if(s.y > ch) { s.y = 0; s.x = Math.random()*cw; }
    });
  }

  function drawRocket(){
    if(rocketImgLoaded){
      const size = rocket.size * 2.2;
      ctx.drawImage(rocketImg, rocket.x - size/2, rocket.y - size/2, size, size);
    } else {
      ctx.fillStyle = '#ffeb3b';
      ctx.beginPath();
      ctx.arc(rocket.x, rocket.y, rocket.size, 0, Math.PI*2);
      ctx.fill();
      ctx.fillStyle = '#ff8a00';
      ctx.fillRect(rocket.x - rocket.size/3, rocket.y + rocket.size, rocket.size/1.5, rocket.size/1.5);
    }
  }

  function drawPipes(){
    pipes.forEach(p => {
      ctx.fillStyle = '#2ecc71';
      ctx.fillRect(p.x, 0, p.w, p.top);
      ctx.fillRect(p.x, p.top + p.gap, p.w, 2000);
    });
  }

  function drawUI(){
    const cw = canvas.width / (window.devicePixelRatio||1);
    ctx.fillStyle = '#fff';
    ctx.font = 'bold 24px Arial';
    ctx.textAlign = 'left';
    ctx.fillText(`Skor: ${score}`, 20, 35);
    ctx.textAlign = 'right';
    ctx.fillText(`En ƒ∞yi: ${best}`, cw - 20, 35);
    
    if(countdown > 0 && !playing){
      const cw2 = canvas.width / (window.devicePixelRatio||1);
      const ch2 = canvas.height / (window.devicePixelRatio||1);
      ctx.fillStyle = 'rgba(0,0,0,0.7)';
      ctx.fillRect(0,0,cw2,ch2);
      ctx.fillStyle = '#ffeb3b';
      ctx.font = Math.floor(Math.min(cw2, ch2) / 6) + 'px Arial';
      ctx.textAlign = 'center';
      ctx.fillText(countdown, cw2/2, ch2/2 + 10);
    }
  }

  function drawAll(){
    const cw = canvas.width / (window.devicePixelRatio||1);
    const ch = canvas.height / (window.devicePixelRatio||1);
    ctx.clearRect(0,0,cw,ch);
    drawStars();
    drawPipes();
    drawRocket();
    drawUI();
  }

  function updateLoop(ts){
    if(!lastTime) lastTime = ts;
    const delta = ts - lastTime;
    lastTime = ts;
    
    if(!playing || paused){ drawAll(); requestAnimationFrame(updateLoop); return; }

    frame++;
    rocket.vy += gravity;
    rocket.y += rocket.vy;

    if(frame - lastSpawnFrame > Math.max(80, Math.floor(120 - (frame/100)))){
      spawnPipe();
      lastSpawnFrame = frame;
    }

    pipes.forEach(p => p.x -= pipeSpeed);
    if(pipes.length && pipes[0].x + pipes[0].w < 0){
      pipes.shift();
      score++;
      if(score > best){ best = score; localStorage.setItem('flappyBest', best); }
    }

    for(const p of pipes){
      const rx = rocket.x, ry = rocket.y, r = rocket.size;
      const pw = p.w, px = p.x, top = p.top, gap = p.gap;
      if(rx + r > px && rx - r < px + pw){
        if(ry - r < top || ry + r > top + gap){ playing = false; }
      }
    }

    const ch = canvas.height / (window.devicePixelRatio||1);
    if(rocket.y - rocket.size > ch){ playing = false; }

    drawAll();
    if(playing) requestAnimationFrame(updateLoop);
  }

  function flap(){ if(playing && !paused) rocket.vy = jump; }
  function startCountdownAndPlay(){
    resetGameState();
    let cd = 3;
    countdown = cd;
    drawAll();
    const t = setInterval(()=>{
      cd--;
      countdown = cd;
      drawAll();
      if(cd <= 0){
        countdown = 0;
        playing = true;
        frame = 0;
        lastSpawnFrame = -10;
        pipes = [];
        for(let i=0;i<2;i++){
          spawnPipe();
          pipes[pipes.length-1].x += i * (canvas.width / (window.devicePixelRatio||1) * 0.6);
        }
        clearInterval(t);
        requestAnimationFrame(updateLoop);
      }
    }, 800);
  }

  // EVENT LISTENER'LAR
  document.getElementById('startBtn').onclick = startCountdownAndPlay;
  document.getElementById('pauseBtn').onclick = () => { paused = true; };
  document.getElementById('resumeBtn').onclick = () => {
    if(!playing) startCountdownAndPlay();
    else { paused = false; requestAnimationFrame(updateLoop); }
  };

  window.addEventListener('keydown', (e) => { if(e.code === 'Space'){ e.preventDefault(); flap(); } });
  canvas.addEventListener('click', flap);
  canvas.addEventListener('touchstart', (e) => { e.preventDefault(); flap(); }, {passive:false});

  // BA≈ûLANGI√á
  window.addEventListener('load', () => {
    resetGameState();
    fitCanvas();
    createStars();
    drawAll();
  });

})();
</script>
</body>
</html>
